plugins {
    id 'java'
    id 'application'
}

group 'org.example'
version '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
    compile project(':consumermodule')
}

application {
    mainModule = 'consumermodule'
    mainClass = 'com.mci.consumermodule.Application'
}
subprojects {
java {
    modularity.inferModulePath = true

    tasks.withType(JavaCompile) {
        doFirst {
            options.compilerArgs = [
                    '--module-path', classpath.asPath,
            ]
            classpath = files()
        }
    }
}
}

jar{
    manifest{
        attributes 'Main-Class': 'se1.hu4.calculator.UnknownCalculator'
    }

}